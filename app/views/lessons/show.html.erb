<% provide(:title, "Result") %>

<div class="jumbotron mt-2">
    <h3 class='text-center usersheader'>Result</h3>
    <div class='mt-2'>
        <div class="row">
            <div class="col-12 d-flex justify-content-center mt-3">
                <h5><%= @lesson.category.title %></h5>
            </div>
            <div class="col-12 d-flex justify-content-center mt-1">
                <p>You got <strong><%= @lesson.result %></strong>&nbsp;out of <%= @lesson.category.words.count %></p>
            </div>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-12">
            <table class="table">
                <thead class="thead-white">
                    <tr>
                        <th scope="col">Word</th>
                        <th scope="col">Your Answer</th>
                        <th scope="col">Correct Answer</th>
                        <th scope="col">Your Result</th>
                    </tr>
                </thead>
                <tbody class="tbody-white">
                    <% @lesson.category.words.each do |word| %>
                        <% answer = user_answer(@lesson, word) %>
                        <tr>
                            <th><%= word.content %></th>
                            <th><%= answer.content %></th>
                            <th><%= word.correct_choice.content %></th>
                            <th class="d-flex justify-content-center">
                                <% if answer.id == word.correct_choice.id %>
                                    <i class="fa fa-check-circle-o checkmark"></i>
                                <% else %>
                                    <i class="fa fa-times-circle-o xmark"></i>
                                <% end %>
                            </th>
                        </tr>
                    <% end %>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-12 d-flex justify-content-center">
            <%= link_to "Back to Categories", categories_path, class: "btn btn-warning" %>
        </div>
    </div>
</div>